<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game console</title>
</head>
<body>
    <div class = "input-buttons">
        <button class = "btn rock">Rock</button>
        <button class = "btn paper">Paper</button>
        <button class = "btn scissors">scissors</button>
        <div class = "round-result"></div>
        <div class = "final-result"></div>
    </div>
    <script type="text/javascript">
        let user_score = 0, computer_score = 0;

        const btns = document.querySelectorAll('.btn');

        const roundResult = document.querySelector('.round-result');
        const finalResult = document.querySelector('.final-result');

        function game(e) {
            let user_choice = this.classList.value.split(' ')[1];

            let computer_choice = getComputerChoice();
            if (user_choice.toUpperCase() == computer_choice) {
                winner = "Tie"
            }

            if (user_choice.toUpperCase() == "ROCK") {
                let winner = "";
                if (computer_choice == "SCISSORS") {
                    user_score += 1;
                    winner = "User";
                }
                else if (computer_choice == "PAPER"){
                    computer_score += 1;
                    winner = "Computer";
                }
                }

                else if (user_choice.toUpperCase() == "PAPER") {
                    if (computer_choice == "ROCK") {
                        user_score += 1;
                        winner = "User";
                    }
                    else if (computer_choice == "SCISSORS") {
                        computer_score += 1;
                        winner = "Computer";
                    }
                }

                else if (user_choice.toUpperCase() == "SCISSORS") {
                    if (computer_choice == "PAPER") {
                        user_score += 1;
                        winner = "User";
                    }
                    else if (computer_choice == "ROCK") {
                        computer_score += 1;
                        winner = "Computer";
                    }
                }
                roundResult.textContent = `The winner of this round is ${winner}`; // Add "Good luck next if user loses or other interactive responses"
                while (user_score == 5 || computer_score == 5) {
                    finalResult.textContent = `The first to score 5 points was ${user_score > computer_score ? user_score : computer_score}`;
                    }  
            }

        function getComputerChoice() {
            let choice_num = Math.floor(Math.random() * 3)
            let computer_choice = choice[choice_num];
            return computer_choice;
        }
  
        btns.forEach(btn => btn.addEventListener('onClick', game));

                
                
            
            // alert(`Your Score: ${user_score} Computer Score: ${computer_score}`);
            // alert(user_score > computer_score? "User wins": "Computer wins");
        const choice = ["ROCK", "PAPER", "SCISSORS"];
        game();
            
    </script>
</body>
</html>